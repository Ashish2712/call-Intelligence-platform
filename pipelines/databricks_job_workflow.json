{
  "name": "Call Intelligence Platform - Full Pipeline",
  "email_notifications": {
    "on_start": [],
    "on_success": ["<your-email>@example.com"],
    "on_failure": ["<your-email>@example.com"]
  },
  "timeout_seconds": 7200,
  "max_concurrent_runs": 1,
  "tasks": [
    {
      "task_key": "ingest_bronze",
      "notebook_task": {
        "notebook_path": "/Repos/<your-email>/call-intelligence-platform/notebooks/01_ingestion_bronze_auto_loader"
      },
      "job_cluster_key": "default_cluster",
      "timeout_seconds": 1800
    },
    {
      "task_key": "transform_silver",
      "depends_on": [{ "task_key": "ingest_bronze" }],
      "notebook_task": {
        "notebook_path": "/Repos/<your-email>/call-intelligence-platform/notebooks/02_transformation_silver_enrichment"
      },
      "job_cluster_key": "default_cluster",
      "timeout_seconds": 1800
    },
    {
      "task_key": "generate_gold_nlp",
      "depends_on": [{ "task_key": "transform_silver" }],
      "notebook_task": {
        "notebook_path": "/Repos/<your-email>/call-intelligence-platform/notebooks/03_gold_keyphrase_extraction"
      },
      "job_cluster_key": "default_cluster",
      "timeout_seconds": 1800
    },
    {
      "task_key": "governance_quality",
      "depends_on": [{ "task_key": "generate_gold_nlp" }],
      "notebook_task": {
        "notebook_path": "/Repos/<your-email>/call-intelligence-platform/notebooks/04_data_quality_and_governance"
      },
      "job_cluster_key": "default_cluster",
      "timeout_seconds": 900
    }
  ],
  "job_clusters": [
    {
      "job_cluster_key": "default_cluster",
      "new_cluster": {
        "spark_version": "14.3.x-scala2.12",
        "node_type_id": "Standard_DS3_v2",
        "num_workers": 2,
        "spark_conf": {
          "spark.databricks.delta.preview.enabled": "true",
          "spark.databricks.delta.schema.autoMerge.enabled": "true"
        },
        "custom_tags": {
          "project": "Call_Intelligence"
        }
      }
    }
  ],
  "format": "MULTI_TASK"
}
